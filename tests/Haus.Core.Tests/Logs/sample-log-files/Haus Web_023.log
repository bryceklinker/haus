{"@t":"2021-01-17T15:27:12.3506070Z","@m":"Enqueuing domain event DeviceLightingChangedDomainEvent...","@i":"4de91304","SourceContext":"Haus.Cqrs.DomainEvents.LoggingDomainEventBus","ActionId":"e27aedd7-9bf7-4069-9d3c-ce458cd24545","ActionName":"Haus.Web.Host.Rooms.RoomsController.ChangeLighting (Haus.Web.Host)","RequestId":"0HM5QVHBISRUP:00000007","RequestPath":"/api/rooms/1/lighting","ConnectionId":"0HM5QVHBISRUP","Application":"Haus Web"}
{"@t":"2021-01-17T15:27:12.3515550Z","@m":"Enqueuing domain event RoomLightingChangedDomainEvent...","@i":"fc362093","SourceContext":"Haus.Cqrs.DomainEvents.LoggingDomainEventBus","ActionId":"e27aedd7-9bf7-4069-9d3c-ce458cd24545","ActionName":"Haus.Web.Host.Rooms.RoomsController.ChangeLighting (Haus.Web.Host)","RequestId":"0HM5QVHBISRUP:00000007","RequestPath":"/api/rooms/1/lighting","ConnectionId":"0HM5QVHBISRUP","Application":"Haus Web"}
{"@t":"2021-01-17T15:27:12.3540030Z","@m":"Executed DbCommand (\"0\"ms) [Parameters=[\"@p1='?', @p0='?'\"], CommandType='Text', CommandTimeout='30']\"\n\"\"UPDATE \\\"Devices\\\" SET \\\"Lighting_Color_Red\\\" = @p0\nWHERE \\\"Id\\\" = @p1;\nSELECT changes();\"","@i":"0723d8ff","elapsed":"0","parameters":"@p1='?', @p0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"UPDATE \"Devices\" SET \"Lighting_Color_Red\" = @p0\nWHERE \"Id\" = @p1;\nSELECT changes();","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e27aedd7-9bf7-4069-9d3c-ce458cd24545","ActionName":"Haus.Web.Host.Rooms.RoomsController.ChangeLighting (Haus.Web.Host)","RequestId":"0HM5QVHBISRUP:00000007","RequestPath":"/api/rooms/1/lighting","ConnectionId":"0HM5QVHBISRUP","Application":"Haus Web"}
{"@t":"2021-01-17T15:27:12.3543030Z","@m":"Executed DbCommand (\"0\"ms) [Parameters=[\"@p1='?', @p0='?'\"], CommandType='Text', CommandTimeout='30']\"\n\"\"UPDATE \\\"Rooms\\\" SET \\\"Lighting_Color_Red\\\" = @p0\nWHERE \\\"Id\\\" = @p1;\nSELECT changes();\"","@i":"0723d8ff","elapsed":"0","parameters":"@p1='?', @p0='?'","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"UPDATE \"Rooms\" SET \"Lighting_Color_Red\" = @p0\nWHERE \"Id\" = @p1;\nSELECT changes();","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e27aedd7-9bf7-4069-9d3c-ce458cd24545","ActionName":"Haus.Web.Host.Rooms.RoomsController.ChangeLighting (Haus.Web.Host)","RequestId":"0HM5QVHBISRUP:00000007","RequestPath":"/api/rooms/1/lighting","ConnectionId":"0HM5QVHBISRUP","Application":"Haus Web"}
{"@t":"2021-01-17T15:27:12.3560510Z","@m":"Flushing domain events...","@i":"0ef3eb47","SourceContext":"Haus.Cqrs.DomainEvents.LoggingDomainEventBus","ActionId":"e27aedd7-9bf7-4069-9d3c-ce458cd24545","ActionName":"Haus.Web.Host.Rooms.RoomsController.ChangeLighting (Haus.Web.Host)","RequestId":"0HM5QVHBISRUP:00000007","RequestPath":"/api/rooms/1/lighting","ConnectionId":"0HM5QVHBISRUP","Application":"Haus Web"}
{"@t":"2021-01-17T15:27:12.3563480Z","@m":"Starting to publish event RoutableCommand { HausCommand: HausCommand`1 { Payload: DeviceLightingChangedEvent { Device: DeviceModel { Id: 1, RoomId: 1, ExternalId: \"8b98068c-cec0-4a8f-b42a-b21f56f7acf4\", Name: \"8b98068c-cec0-4a8f-b42a-b21f56f7acf4\", DeviceType: Light, LightType: Color, Lighting: LightingModel { State: Off, Level: LevelLightingModel { Value: 20, Min: 0, Max: 100 }, Temperature: null, Color: ColorLightingModel { Red: 209, Green: 114, Blue: 255 } }, Metadata: [MetadataModel { Key: \"simulated\", Value: \"true\" }] }, Lighting: LightingModel { State: Off, Level: LevelLightingModel { Value: 20, Min: 0, Max: 100 }, Temperature: null, Color: ColorLightingModel { Red: 209, Green: 114, Blue: 255 } } }, Type: \"device_lighting_changed\" } }","@i":"55107d52","Event":{"HausCommand":{"Payload":{"Device":{"Id":1,"RoomId":1,"ExternalId":"8b98068c-cec0-4a8f-b42a-b21f56f7acf4","Name":"8b98068c-cec0-4a8f-b42a-b21f56f7acf4","DeviceType":"Light","LightType":"Color","Lighting":{"State":"Off","Level":{"Value":20,"Min":0,"Max":100,"$type":"LevelLightingModel"},"Temperature":null,"Color":{"Red":209,"Green":114,"Blue":255,"$type":"ColorLightingModel"},"$type":"LightingModel"},"Metadata":[{"Key":"simulated","Value":"true","$type":"MetadataModel"}],"$type":"DeviceModel"},"Lighting":{"State":"Off","Level":{"Value":20,"Min":0,"Max":100,"$type":"LevelLightingModel"},"Temperature":null,"Color":{"Red":209,"Green":114,"Blue":255,"$type":"ColorLightingModel"},"$type":"LightingModel"},"$type":"DeviceLightingChangedEvent"},"Type":"device_lighting_changed","$type":"HausCommand`1"},"$type":"RoutableCommand"},"SourceContext":"Haus.Cqrs.Events.LoggingEventBus","ActionId":"e27aedd7-9bf7-4069-9d3c-ce458cd24545","ActionName":"Haus.Web.Host.Rooms.RoomsController.ChangeLighting (Haus.Web.Host)","RequestId":"0HM5QVHBISRUP:00000007","RequestPath":"/api/rooms/1/lighting","ConnectionId":"0HM5QVHBISRUP","Application":"Haus Web"}
{"@t":"2021-01-17T15:27:12.3579660Z","@m":"Finished publishing RoutableCommand { HausCommand: HausCommand`1 { Payload: DeviceLightingChangedEvent { Device: DeviceModel { Id: 1, RoomId: 1, ExternalId: \"8b98068c-cec0-4a8f-b42a-b21f56f7acf4\", Name: \"8b98068c-cec0-4a8f-b42a-b21f56f7acf4\", DeviceType: Light, LightType: Color, Lighting: LightingModel { State: Off, Level: LevelLightingModel { Value: 20, Min: 0, Max: 100 }, Temperature: null, Color: ColorLightingModel { Red: 209, Green: 114, Blue: 255 } }, Metadata: [MetadataModel { Key: \"simulated\", Value: \"true\" }] }, Lighting: LightingModel { State: Off, Level: LevelLightingModel { Value: 20, Min: 0, Max: 100 }, Temperature: null, Color: ColorLightingModel { Red: 209, Green: 114, Blue: 255 } } }, Type: \"device_lighting_changed\" } } in 1ms","@i":"d277483c","Event":{"HausCommand":{"Payload":{"Device":{"Id":1,"RoomId":1,"ExternalId":"8b98068c-cec0-4a8f-b42a-b21f56f7acf4","Name":"8b98068c-cec0-4a8f-b42a-b21f56f7acf4","DeviceType":"Light","LightType":"Color","Lighting":{"State":"Off","Level":{"Value":20,"Min":0,"Max":100,"$type":"LevelLightingModel"},"Temperature":null,"Color":{"Red":209,"Green":114,"Blue":255,"$type":"ColorLightingModel"},"$type":"LightingModel"},"Metadata":[{"Key":"simulated","Value":"true","$type":"MetadataModel"}],"$type":"DeviceModel"},"Lighting":{"State":"Off","Level":{"Value":20,"Min":0,"Max":100,"$type":"LevelLightingModel"},"Temperature":null,"Color":{"Red":209,"Green":114,"Blue":255,"$type":"ColorLightingModel"},"$type":"LightingModel"},"$type":"DeviceLightingChangedEvent"},"Type":"device_lighting_changed","$type":"HausCommand`1"},"$type":"RoutableCommand"},"ElapsedTime":1,"SourceContext":"Haus.Cqrs.Events.LoggingEventBus","ActionId":"e27aedd7-9bf7-4069-9d3c-ce458cd24545","ActionName":"Haus.Web.Host.Rooms.RoomsController.ChangeLighting (Haus.Web.Host)","RequestId":"0HM5QVHBISRUP:00000007","RequestPath":"/api/rooms/1/lighting","ConnectionId":"0HM5QVHBISRUP","Application":"Haus Web"}
{"@t":"2021-01-17T15:27:12.3580970Z","@m":"TX (498 bytes) >>> \"Publish: [Topic=haus/commands] [Payload.Length=480] [QoSLevel=AtMostOnce] [Dup=False] [Retain=False] [PacketIdentifier=]\"","@i":"c56af69f","@l":"Debug","0":498,"1":"Publish: [Topic=haus/commands] [Payload.Length=480] [QoSLevel=AtMostOnce] [Dup=False] [Retain=False] [PacketIdentifier=]","SourceContext":"Haus.Mqtt.Client.Logging.MqttLogger","Application":"Haus Web"}
{"@t":"2021-01-17T15:27:12.3583620Z","@m":"RX (497 bytes) <<< \"Publish: [Topic=haus/commands] [Payload.Length=480] [QoSLevel=AtMostOnce] [Dup=False] [Retain=False] [PacketIdentifier=]\"","@i":"fb9eec8d","@l":"Debug","0":497,"1":"Publish: [Topic=haus/commands] [Payload.Length=480] [QoSLevel=AtMostOnce] [Dup=False] [Retain=False] [PacketIdentifier=]","SourceContext":"Haus.Mqtt.Client.Logging.MqttLogger","Application":"Haus Web"}
{"@t":"2021-01-17T15:27:12.3594660Z","@m":"Starting to publish event RoutableEvent`1 { Type: \"device_lighting_changed\", Payload: DeviceLightingChangedEvent { Device: DeviceModel { Id: 1, RoomId: 1, ExternalId: \"8b98068c-cec0-4a8f-b42a-b21f56f7acf4\", Name: \"8b98068c-cec0-4a8f-b42a-b21f56f7acf4\", DeviceType: Light, LightType: Color, Lighting: LightingModel { State: Off, Level: LevelLightingModel { Value: 20, Min: 0, Max: 100 }, Temperature: null, Color: ColorLightingModel { Red: 209, Green: 114, Blue: 255 } }, Metadata: [MetadataModel { Key: \"simulated\", Value: \"true\" }] }, Lighting: LightingModel { State: Off, Level: LevelLightingModel { Value: 20, Min: 0, Max: 100 }, Temperature: null, Color: ColorLightingModel { Red: 209, Green: 114, Blue: 255 } } }, Timestamp: \"2021-01-17T09:27:12.3592940-06:00\" }","@i":"55107d52","Event":{"Type":"device_lighting_changed","Payload":{"Device":{"Id":1,"RoomId":1,"ExternalId":"8b98068c-cec0-4a8f-b42a-b21f56f7acf4","Name":"8b98068c-cec0-4a8f-b42a-b21f56f7acf4","DeviceType":"Light","LightType":"Color","Lighting":{"State":"Off","Level":{"Value":20,"Min":0,"Max":100,"$type":"LevelLightingModel"},"Temperature":null,"Color":{"Red":209,"Green":114,"Blue":255,"$type":"ColorLightingModel"},"$type":"LightingModel"},"Metadata":[{"Key":"simulated","Value":"true","$type":"MetadataModel"}],"$type":"DeviceModel"},"Lighting":{"State":"Off","Level":{"Value":20,"Min":0,"Max":100,"$type":"LevelLightingModel"},"Temperature":null,"Color":{"Red":209,"Green":114,"Blue":255,"$type":"ColorLightingModel"},"$type":"LightingModel"},"$type":"DeviceLightingChangedEvent"},"Timestamp":"2021-01-17T09:27:12.3592940-06:00","$type":"RoutableEvent`1"},"SourceContext":"Haus.Cqrs.Events.LoggingEventBus","ActionId":"e27aedd7-9bf7-4069-9d3c-ce458cd24545","ActionName":"Haus.Web.Host.Rooms.RoomsController.ChangeLighting (Haus.Web.Host)","RequestId":"0HM5QVHBISRUP:00000007","RequestPath":"/api/rooms/1/lighting","ConnectionId":"0HM5QVHBISRUP","Application":"Haus Web"}
