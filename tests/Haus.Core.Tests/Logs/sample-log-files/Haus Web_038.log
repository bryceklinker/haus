{"@t":"2021-01-17T15:27:17.5501190Z","@m":"Request starting HTTP/1.1 DELETE https://localhost:5001/hubs/health?id=etXTIqY2MuqQCxdN6QKfZw text/plain;charset=UTF-8 -","@i":"ca22a1cb","Protocol":"HTTP/1.1","Method":"DELETE","ContentType":"text/plain;charset=UTF-8","ContentLength":null,"Scheme":"https","Host":"localhost:5001","PathBase":"","Path":"/hubs/health","QueryString":"?id=etXTIqY2MuqQCxdN6QKfZw","HostingRequestStartingLog":"Request starting HTTP/1.1 DELETE https://localhost:5001/hubs/health?id=etXTIqY2MuqQCxdN6QKfZw text/plain;charset=UTF-8 -","EventId":{"Id":1,"Name":"RequestStarting"},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HM5QVHBISRUR:00000003","RequestPath":"/hubs/health","ConnectionId":"0HM5QVHBISRUR","Application":"Haus Web"}
{"@t":"2021-01-17T15:27:17.5506170Z","@m":"Successfully validated the token.","@i":"60169667","EventId":{"Id":2,"Name":"TokenValidationSucceeded"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HM5QVHBISRUQ:00000003","RequestPath":"/api/devices","ConnectionId":"0HM5QVHBISRUQ","Application":"Haus Web"}
{"@t":"2021-01-17T15:27:17.5513210Z","@m":"CORS policy execution successful.","@i":"5409d6ef","EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HM5QVHBISRUR:00000003","RequestPath":"/hubs/health","ConnectionId":"0HM5QVHBISRUR","Application":"Haus Web"}
{"@t":"2021-01-17T15:27:17.5513920Z","@m":"Authorization was successful.","@i":"0d575a54","EventId":{"Id":1,"Name":"UserAuthorizationSucceeded"},"SourceContext":"Microsoft.AspNetCore.Authorization.DefaultAuthorizationService","RequestId":"0HM5QVHBISRUQ:00000003","RequestPath":"/api/devices","ConnectionId":"0HM5QVHBISRUQ","Application":"Haus Web"}
{"@t":"2021-01-17T15:27:17.5515040Z","@m":"Executing endpoint '\"Haus.Web.Host.Devices.DevicesController.Get (Haus.Web.Host)\"'","@i":"500cc934","EndpointName":"Haus.Web.Host.Devices.DevicesController.Get (Haus.Web.Host)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HM5QVHBISRUQ:00000003","RequestPath":"/api/devices","ConnectionId":"0HM5QVHBISRUQ","Application":"Haus Web"}
{"@t":"2021-01-17T15:27:17.5516880Z","@m":"Route matched with \"{action = \\\"Get\\\", controller = \\\"Devices\\\"}\". Executing controller action with signature \"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(System.String)\" on controller \"Haus.Web.Host.Devices.DevicesController\" (\"Haus.Web.Host\").","@i":"122b2fdf","RouteData":"{action = \"Get\", controller = \"Devices\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(System.String)","Controller":"Haus.Web.Host.Devices.DevicesController","AssemblyName":"Haus.Web.Host","EventId":{"Id":3,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"7b1905e3-bd19-4a27-9277-5d4174a8c927","ActionName":"Haus.Web.Host.Devices.DevicesController.Get (Haus.Web.Host)","RequestId":"0HM5QVHBISRUQ:00000003","RequestPath":"/api/devices","ConnectionId":"0HM5QVHBISRUQ","Application":"Haus Web"}
{"@t":"2021-01-17T15:27:17.5521520Z","@m":"Starting to execute query \"GetDevicesQuery { ExternalId = , HasExternalId = False }\"","@i":"1b546e6c","Query":"GetDevicesQuery { ExternalId = , HasExternalId = False }","SourceContext":"Haus.Cqrs.Queries.LoggingQueryBus","ActionId":"7b1905e3-bd19-4a27-9277-5d4174a8c927","ActionName":"Haus.Web.Host.Devices.DevicesController.Get (Haus.Web.Host)","RequestId":"0HM5QVHBISRUQ:00000003","RequestPath":"/api/devices","ConnectionId":"0HM5QVHBISRUQ","Application":"Haus Web"}
{"@t":"2021-01-17T15:27:17.5530760Z","@m":"Entity Framework Core \"5.0.2\" initialized '\"HausDbContext\"' using provider '\"Microsoft.EntityFrameworkCore.Sqlite\"' with options: \"MigrationsAssembly=Haus.Core \"","@i":"9958f5bb","version":"5.0.2","contextType":"HausDbContext","provider":"Microsoft.EntityFrameworkCore.Sqlite","options":"MigrationsAssembly=Haus.Core ","EventId":{"Id":10403,"Name":"Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized"},"SourceContext":"Microsoft.EntityFrameworkCore.Infrastructure","ActionId":"7b1905e3-bd19-4a27-9277-5d4174a8c927","ActionName":"Haus.Web.Host.Devices.DevicesController.Get (Haus.Web.Host)","RequestId":"0HM5QVHBISRUQ:00000003","RequestPath":"/api/devices","ConnectionId":"0HM5QVHBISRUQ","Application":"Haus Web"}
{"@t":"2021-01-17T15:27:17.5534750Z","@m":"Successfully validated the token.","@i":"60169667","EventId":{"Id":2,"Name":"TokenValidationSucceeded"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HM5QVHBISRUR:00000003","RequestPath":"/hubs/health","ConnectionId":"0HM5QVHBISRUR","Application":"Haus Web"}
{"@t":"2021-01-17T15:27:17.5540170Z","@m":"Authorization was successful.","@i":"0d575a54","EventId":{"Id":1,"Name":"UserAuthorizationSucceeded"},"SourceContext":"Microsoft.AspNetCore.Authorization.DefaultAuthorizationService","RequestId":"0HM5QVHBISRUR:00000003","RequestPath":"/hubs/health","ConnectionId":"0HM5QVHBISRUR","Application":"Haus Web"}
{"@t":"2021-01-17T15:27:17.5542690Z","@m":"Executing endpoint '\"/hubs/health\"'","@i":"500cc934","EndpointName":"/hubs/health","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HM5QVHBISRUR:00000003","RequestPath":"/hubs/health","ConnectionId":"0HM5QVHBISRUR","Application":"Haus Web"}
{"@t":"2021-01-17T15:27:17.5545580Z","@m":"Executed endpoint '\"/hubs/health\"'","@i":"99874f2b","EndpointName":"/hubs/health","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HM5QVHBISRUR:00000003","RequestPath":"/hubs/health","ConnectionId":"0HM5QVHBISRUR","Application":"Haus Web"}
{"@t":"2021-01-17T15:27:17.5546720Z","@m":"HTTP \"DELETE\" \"/hubs/health?id=etXTIqY2MuqQCxdN6QKfZw\" responded 202 in 3.3870 ms","@i":"62d0885c","RequestMethod":"DELETE","RequestPath":"/hubs/health?id=etXTIqY2MuqQCxdN6QKfZw","StatusCode":202,"Elapsed":3.387039,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HM5QVHBISRUR:00000003","ConnectionId":"0HM5QVHBISRUR","Application":"Haus Web"}
{"@t":"2021-01-17T15:27:17.5549140Z","@m":"Request finished HTTP/1.1 DELETE https://localhost:5001/hubs/health?id=etXTIqY2MuqQCxdN6QKfZw text/plain;charset=UTF-8 - - 202 0 text/plain 4.7992ms","@i":"791a596a","ElapsedMilliseconds":4.7992,"StatusCode":202,"ContentType":"text/plain","ContentLength":0,"Protocol":"HTTP/1.1","Method":"DELETE","Scheme":"https","Host":"localhost:5001","PathBase":"","Path":"/hubs/health","QueryString":"?id=etXTIqY2MuqQCxdN6QKfZw","HostingRequestFinishedLog":"Request finished HTTP/1.1 DELETE https://localhost:5001/hubs/health?id=etXTIqY2MuqQCxdN6QKfZw text/plain;charset=UTF-8 - - 202 0 text/plain 4.7992ms","EventId":{"Id":2,"Name":"RequestFinished"},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HM5QVHBISRUR:00000003","RequestPath":"/hubs/health","ConnectionId":"0HM5QVHBISRUR","Application":"Haus Web"}
{"@t":"2021-01-17T15:27:17.5566470Z","@m":"Executed DbCommand (\"1\"ms) [Parameters=[\"\"], CommandType='Text', CommandTimeout='30']\"\n\"\"SELECT \\\"d\\\".\\\"Id\\\", \\\"r\\\".\\\"Id\\\", \\\"d\\\".\\\"ExternalId\\\", \\\"d\\\".\\\"Name\\\", \\\"d\\\".\\\"DeviceType\\\", \\\"d\\\".\\\"LightType\\\", \\\"d\\\".\\\"Lighting_State\\\", \\\"d\\\".\\\"Lighting_Color_Blue\\\", \\\"d\\\".\\\"Lighting_Color_Green\\\", \\\"d\\\".\\\"Lighting_Color_Red\\\", \\\"d\\\".\\\"Lighting_Level_Max\\\", \\\"d\\\".\\\"Lighting_Level_Min\\\", \\\"d\\\".\\\"Lighting_Level_Value\\\", \\\"d\\\".\\\"Lighting_Temperature_Max\\\", \\\"d\\\".\\\"Lighting_Temperature_Min\\\", \\\"d\\\".\\\"Lighting_Temperature_Value\\\", (\\\"d\\\".\\\"Lighting_Level_Max\\\" IS NULL OR \\\"d\\\".\\\"Lighting_Level_Min\\\" IS NULL) OR \\\"d\\\".\\\"Lighting_Level_Value\\\" IS NULL, (\\\"d\\\".\\\"Lighting_Temperature_Max\\\" IS NULL OR \\\"d\\\".\\\"Lighting_Temperature_Min\\\" IS NULL) OR \\\"d\\\".\\\"Lighting_Temperature_Value\\\" IS NULL, (\\\"d\\\".\\\"Lighting_Color_Blue\\\" IS NULL OR \\\"d\\\".\\\"Lighting_Color_Green\\\" IS NULL) OR \\\"d\\\".\\\"Lighting_Color_Red\\\" IS NULL, \\\"d0\\\".\\\"Key\\\", \\\"d0\\\".\\\"Value\\\", \\\"d0\\\".\\\"Id\\\"\nFROM \\\"Devices\\\" AS \\\"d\\\"\nLEFT JOIN \\\"Rooms\\\" AS \\\"r\\\" ON \\\"d\\\".\\\"RoomId\\\" = \\\"r\\\".\\\"Id\\\"\nLEFT JOIN \\\"DeviceMetadata\\\" AS \\\"d0\\\" ON \\\"d\\\".\\\"Id\\\" = \\\"d0\\\".\\\"DeviceId\\\"\nORDER BY \\\"d\\\".\\\"Id\\\", \\\"r\\\".\\\"Id\\\", \\\"d0\\\".\\\"Id\\\"\"","@i":"0723d8ff","elapsed":"1","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT \"d\".\"Id\", \"r\".\"Id\", \"d\".\"ExternalId\", \"d\".\"Name\", \"d\".\"DeviceType\", \"d\".\"LightType\", \"d\".\"Lighting_State\", \"d\".\"Lighting_Color_Blue\", \"d\".\"Lighting_Color_Green\", \"d\".\"Lighting_Color_Red\", \"d\".\"Lighting_Level_Max\", \"d\".\"Lighting_Level_Min\", \"d\".\"Lighting_Level_Value\", \"d\".\"Lighting_Temperature_Max\", \"d\".\"Lighting_Temperature_Min\", \"d\".\"Lighting_Temperature_Value\", (\"d\".\"Lighting_Level_Max\" IS NULL OR \"d\".\"Lighting_Level_Min\" IS NULL) OR \"d\".\"Lighting_Level_Value\" IS NULL, (\"d\".\"Lighting_Temperature_Max\" IS NULL OR \"d\".\"Lighting_Temperature_Min\" IS NULL) OR \"d\".\"Lighting_Temperature_Value\" IS NULL, (\"d\".\"Lighting_Color_Blue\" IS NULL OR \"d\".\"Lighting_Color_Green\" IS NULL) OR \"d\".\"Lighting_Color_Red\" IS NULL, \"d0\".\"Key\", \"d0\".\"Value\", \"d0\".\"Id\"\nFROM \"Devices\" AS \"d\"\nLEFT JOIN \"Rooms\" AS \"r\" ON \"d\".\"RoomId\" = \"r\".\"Id\"\nLEFT JOIN \"DeviceMetadata\" AS \"d0\" ON \"d\".\"Id\" = \"d0\".\"DeviceId\"\nORDER BY \"d\".\"Id\", \"r\".\"Id\", \"d0\".\"Id\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7b1905e3-bd19-4a27-9277-5d4174a8c927","ActionName":"Haus.Web.Host.Devices.DevicesController.Get (Haus.Web.Host)","RequestId":"0HM5QVHBISRUQ:00000003","RequestPath":"/api/devices","ConnectionId":"0HM5QVHBISRUQ","Application":"Haus Web"}
